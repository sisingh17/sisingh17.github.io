<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello World</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KWMM9WPJ');</script>
<!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KWMM9WPJ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
Hello World!
    <a>
        <button type="button" id="track_event" onclick="myTrackFunction()">Click Me to track!</button>
        <button type="button" id="identify_profile_1" onclick="myIdentifyFirstProfileFunction()">Click Me to identify useExisting_3!</button>
        <button type="button" id="identify_profile_2" onclick="myIdentifySecondProfileFunction()">Click Me to identify useExisting_2!</button>
        <button type="button" id="track_opt_stat_change" onclick="myTrackOptStat()">Click Me to change opt status!</button>
        <button type="button" id="alias_profile_2" onclick="myIdentifyThirdProfileFunction()">Click Me to alias!</button>
        <button type="button" id="alias_event" onclick="myAliasFunction()">Click Me to create an alias!</button>
    </a>
    <form id= "userDetailsForm" onSubmit="submitForm()">
  <label for="fname">First name:</label><br>
  <input type="text" id="fname" name="fname" value=""><br>
  <label for="lname">Last name:</label><br>
  <input type="text" id="lname" name="lname" value="">
  <input id="submit" type="submit" value="Submit" onClick="formSubmission()">
</form>
     <script>
         function submitForm() {
            var form = document.querySelector('#userDetailsForm');
            var fname = form.querySelector('#fname');
            console.log(fname.value);
            var lname = form.querySelector('#lname');
            console.log(fname.value);
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'fname': fname.value,
                'lname': lname.value
            });
  // Rest of the success callback code
}
        function formSubmission(){
            var form = document.querySelector('#userDetailsForm');
            var fname = form.querySelector('#fname');
            var lname = form.querySelector('#lname');
             window.dataLayer = window.dataLayer || [];
             window.dataLayer.push({
                'fname': fname,
                'lname': lname
            });
        }
        function myTrackFunction(){
            analytics.track('Something Happened',{
                comments:`blabla`,
                email: 'singh.sj90@gmail.com',
                sport: 'Cricket',
                function: 'T20 World Cup',
                team: 'India',
                opponent:'Pakistan'
            });
        }
        function myTrackOptStat(){
            analytics.track('Opt Status Changed',{
                emailSubscriptionOptNumber:`Universal`,
                emailSubscriptionOptIndicator: true
            });
        }
        function myIdentifyFirstProfileFunction(){
            analytics.identify("useExisting_4", {
                name: "useExisting_4",
                email: "useExisting_4@gma.com",
            });
        }
        function myIdentifySecondProfileFunction(){
            analytics.identify("useExisting_5", {
                name: "useExisting_5",
                email: "useExisting_5@gma.com",
            });
        }
        function myIdentifyThirdProfileFunction(){
            analytics.identify("useExisting_5", {
                name: "useExisting_5",
                email: "useExisting_4@gma.com",
            });
        }
        function myAliasFunction(){
            var str = "Simran";
            var enc = window.btoa(str);
            analytics.alias(enc);
        }
    </script>
</body>
</html>
